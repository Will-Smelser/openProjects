var loadingbar=function(barId,wrapId,animation){var obj={interval:25,minCycle:1,cycle:0,wL:5,aL:'left',aR:'right',hooks:[],sizer:function(){var x=this.loadBar.style.width.replace('px','')*1;if(x>=this.wU||x<=this.wL){this.s=-1*this.s;this.cycle++;}
this.loadWrapper.style.textAlign=((this.cycle%4)<2)?this.aL:this.aR;this.loadBar.style.backgroundPosition=((this.cycle%4)<2)?this.aL:this.aR;this.loadBar.style.width=x+(this.s)*5+'px';},stop:function(){var ref=this;if(this.cycle>this.minCycle){clearInterval(this.bI);this.bI=null;for(var x in this.hooks){this.hooks[x]();}}else{setTimeout(function(){ref.stop();},100);}},addStopHook:function(func){if(typeof func=='function'){this.hooks.push(func);}},run:function(){if(typeof this.bI=='number')return;var ref=this;this.loadBar=document.getElementById(barId);this.loadWrapper=document.getElementById(wrapId);this.wU=this.loadWrapper.style.width.replace('px','')-5;this.s=-1;if(typeof animation=='undefined')animation='normal';switch(animation){case'normal':this.aR='left';this.aL='left';break;case'bounce':this.aR='right';this.aL='left';break;case'center':this.aR='center';this.aL='center';break;}
this.loadWrapper.style.textAlign=this.aL;this.bI=setInterval(function(){ref.sizer()},this.interval);}};return obj;};